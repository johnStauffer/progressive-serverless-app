!(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AmazonCognitoIdentity=e():t.AmazonCognitoIdentity=e()})("undefined"!=typeof self?self:this,(function(){return e={},d.m=c=[function(t,e,n){var r;t.exports=(r=r||(function(f){var n=Object.create||(function(){function n(){}return function(t){var e;return n.prototype=t,e=new n,n.prototype=null,e}})(),t={},e=t.lib={},r=e.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=e.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var o=n[s>>>2]>>>24-s%4*8&255;e[r+s>>>2]|=o<<24-(r+s)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=f.ceil(e/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e,n=[],r=0;r<t;r+=4){var i=(function(e){var e=e,n=987654321,r=4294967295;return function(){var t=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return t/=4294967296,(t+=.5)*(.5<f.random()?1:-1)}})(4294967296*(e||f.random()));e=987654071*i(),n.push(4294967296*i()|0)}return new l.init(n,t)}}),i=t.enc={},s=i.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var s=e[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},o=i.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var s=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},a=i.Utf8={stringify:function(t){try{return decodeURIComponent(escape(o.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return o.parse(unescape(encodeURIComponent(t)))}},u=e.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=a.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,i=this.blockSize,s=4*i,o=r/s,a=(o=t?f.ceil(o):f.max((0|o)-this._minBufferSize,0))*i,u=f.min(4*a,r);if(a){for(var h=0;h<a;h+=i)this._doProcessBlock(n,h);var c=n.splice(0,a);e.sigBytes-=u}return new l.init(c,u)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(e.Hasher=u.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new h.HMAC.init(n,e).finalize(t)}}}),t.algo={});return t})(Math),r)},function(t,O,N){"use strict";(function(t){function n(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=f.prototype:(null===t&&(t=new f(e)),t.length=e),t}function f(t,e,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,e,n);if("number"!=typeof t)return r(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return o(this,t)}function r(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?(function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),f.TYPED_ARRAY_SUPPORT?(t=e).__proto__=f.prototype:t=a(t,e),t})(t,e,n,r):"string"==typeof e?(function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t})(t,e,n):(function(t,e){if(f.isBuffer(e)){var n=0|u(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(function(t){return t!=t})(e.length)?s(t,0):a(t,e);if("Buffer"===e.type&&F(e.data))return a(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")})(t,e)}function i(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function o(t,e){if(i(e),t=s(t,e<0?0:0|u(e)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function a(t,e){var n=e.length<0?0:0|u(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function u(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function h(t,e){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return _(t).length;default:if(r)return P(t).length;e=(""+e).toLowerCase(),r=!0}}function c(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function l(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=f.from(e,r)),f.isBuffer(e))return 0===e.length?-1:p(t,e,n,r,i);if("number"==typeof e)return e&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):p(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function p(t,e,n,r,i){function s(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var o,a=1,u=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u/=a=2,h/=2,n/=2}if(i){var c=-1;for(o=n;o<u;o++)if(s(t,o)===s(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===h)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(u<n+h&&(n=u-h),o=n;0<=o;o--){for(var f=!0,l=0;l<h;l++)if(s(t,o+l)!==s(e,l)){f=!1;break}if(f)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");s/2<r&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function d(t,e,n,r){return b(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function y(t,e,n,r){return b(function(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function v(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,a,u,h=t[i],c=null,f=239<h?4:223<h?3:191<h?2:1;if(i+f<=n)switch(f){case 1:h<128&&(c=h);break;case 2:128==(192&(s=t[i+1]))&&127<(u=(31&h)<<6|63&s)&&(c=u);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&2047<(u=(15&h)<<12|(63&s)<<6|63&o)&&(u<55296||57343<u)&&(c=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(u=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)&&u<1114112&&(c=u)}null===c?(c=65533,f=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return (function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n})(r)}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function m(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var s="",o=e;o<n;++o)s+=(r=t[o])<16?"0"+r.toString(16):r.toString(16);return s}function w(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,i,s){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function T(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function E(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,i){return i||D(t,0,n,4),k.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return i||D(t,0,n,8),k.write(t,e,n,r,52,8),n+8}function e(t){if((t=(function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")})(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function P(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if(55295<(n=t.charCodeAt(o))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&s.push(239,191,189);continue}if(o+1===r){-1<(e-=3)&&s.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function _(t){return B.toByteArray(e(t))}function b(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var B=N(19),k=N(20),F=N(21);O.Buffer=f,O.SlowBuffer=function(t){return+t!=t&&(t=0),f.alloc(+t)},O.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:(function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}})(),O.kMaxLength=n(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,e,n){return r(null,t,e,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,e,n){return (function(t,e,n,r){return i(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)})(null,t,e,n)},f.allocUnsafe=function(t){return o(null,t)},f.allocUnsafeSlow=function(t){return o(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,e){if(!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!F(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;var r=f.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!f.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},f.byteLength=h,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)c(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)c(this,e,e+3),c(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)c(this,e,e+7),c(this,e+1,e+6),c(this,e+2,e+5),c(this,e+3,e+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?v(this,0,t):function(t,e,n){var r,i,s,o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return v(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return m(this,e,n);case"base64":return r=this,s=n,0===(i=e)&&s===r.length?B.fromByteArray(r):B.fromByteArray(r.slice(i,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=O.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,e,n,r,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(r,i),h=t.slice(e,n),c=0;c<a;++c)if(u[c]!==h[c]){s=u[c],o=h[c];break}return s<o?-1:o<s?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return l(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return l(this,t,e,n,!1)},f.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i,s,o,a,u,h,c=this.length-e;if((void 0===n||c<n)&&(n=c),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var f=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return u=e,h=n,b(P(t,(a=this).length-u),a,u,h);case"ascii":return d(this,t,e,n);case"latin1":case"binary":return d(this,t,e,n);case"base64":return i=this,s=e,o=n,b(_(t),i,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,t,e,n);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;f.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=f.prototype;else{var i=e-t;n=new f(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},f.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},f.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},f.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},f.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=e,i=1,s=this[t+--r];0<r&&(i*=256);)s+=this[t+--r]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*e)),s},f.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),k.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),k.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),k.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),k.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||U(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},f.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||U(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;0<=--i&&(s*=256);)this[e+i]=t/s&255;return e+n},f.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):E(this,t,e,!0),e+4},f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},f.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);U(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},f.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);U(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;0<=--s&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):E(this,t,e,!0),e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},f.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,r){if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;0<=i;--i)t[i+e]=this[i+n];else if(s<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},f.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else{var o=f.isBuffer(t)?t:P(new f(t,r).toString()),a=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g}).call(O,N(18))},function(t,e,n){"use strict";function a(t){return h.Buffer.from(u.a.lib.WordArray.random(t).toString(),"hex")}var h=n(1),r=(n.n(h),n(0)),u=n.n(r),i=n(3),s=(n.n(i),n(4)),o=n.n(s),c=n(5),f=n.n(c),l=n(6),p=(g.prototype.getSmallAValue=function(){return this.smallAValue},g.prototype.getLargeAValue=function(n){var r=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,(function(t,e){t&&n(t,null),r.largeAValue=e,n(null,r.largeAValue)}))},g.prototype.generateRandomSmallA=function(){var t=a(128).toString("hex");return new l.a(t,16).mod(this.N)},g.prototype.generateRandomString=function(){return a(40).toString("base64")},g.prototype.getRandomPassword=function(){return this.randomPassword},g.prototype.getSaltDevices=function(){return this.SaltToHashDevices},g.prototype.getVerifierDevices=function(){return this.verifierDevices},g.prototype.generateHashDevice=function(t,e,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+t+e+":"+this.randomPassword,s=this.hash(i),o=a(16).toString("hex");this.SaltToHashDevices=this.padHex(new l.a(o,16)),this.g.modPow(new l.a(this.hexHash(this.SaltToHashDevices+s),16),this.N,(function(t,e){t&&n(t,null),r.verifierDevices=r.padHex(e),n(null,null)}))},g.prototype.calculateA=function(t,n){var r=this;this.g.modPow(t,this.N,(function(t,e){t&&n(t,null),e.mod(r.N).equals(l.a.ZERO)&&n(new Error("Illegal paramater. A mod N cannot be 0."),null),n(null,e)}))},g.prototype.calculateU=function(t,e){return this.UHexHash=this.hexHash(this.padHex(t)+this.padHex(e)),new l.a(this.UHexHash,16)},g.prototype.hash=function(t){var e=t instanceof h.Buffer?u.a.lib.WordArray.create(t):t,n=o()(e).toString();return new Array(64-n.length).join("0")+n},g.prototype.hexHash=function(t){return this.hash(h.Buffer.from(t,"hex"))},g.prototype.computehkdf=function(t,e){var n=u.a.lib.WordArray.create(h.Buffer.concat([this.infoBits,h.Buffer.from(String.fromCharCode(1),"utf8")])),r=t instanceof h.Buffer?u.a.lib.WordArray.create(t):t,i=e instanceof h.Buffer?u.a.lib.WordArray.create(e):e,s=f()(r,i),o=f()(n,s);return h.Buffer.from(o.toString(),"hex").slice(0,16)},g.prototype.getPasswordAuthenticationKey=function(t,e,n,r,i){var s=this;if(n.mod(this.N).equals(l.a.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(l.a.ZERO))throw new Error("U cannot be zero.");var o=""+this.poolName+t+":"+e,a=this.hash(o),u=new l.a(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(t,e){t&&i(t,null);var n=s.computehkdf(h.Buffer.from(s.padHex(e),"hex"),h.Buffer.from(s.padHex(s.UValue.toString(16)),"hex"));i(null,n)}))},g.prototype.calculateS=function(n,r,i){var s=this;this.g.modPow(n,this.N,(function(t,e){t&&i(t,null),r.subtract(s.k.multiply(e)).modPow(s.smallAValue.add(s.UValue.multiply(n)),s.N,(function(t,e){t&&i(t,null),i(null,e.mod(s.N))}))}))},g.prototype.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},g.prototype.padHex=function(t){var e=t.toString(16);return e.length%2==1?e="0"+e:-1!=="89ABCDEFabcdef".indexOf(e[0])&&(e="00"+e),e},g);function g(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,g),this.N=new l.a("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new l.a("2",16),this.k=new l.a(this.hexHash("00"+this.N.toString(16)+"0"+this.g.toString(16)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=h.Buffer.from("Caldera Derived Key","utf8"),this.poolName=t}e.a=p},function(t,e,n){var r;t.exports=(r=n(0),(function(){if("function"==typeof ArrayBuffer){var t=r,e=t.lib,n=e.WordArray,i=n.init;(n.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],r=0;r<e;r++)n[r>>>2]|=t[r]<<24-r%4*8;i.call(this,n,e)}else i.apply(this,arguments)}).prototype=n}})(),r.lib.WordArray)},function(t,e,n){var u;t.exports=(u=n(0),(function(i){var t=u,e=t.lib,n=e.WordArray,r=e.Hasher,s=t.algo,o=[],C=[];!(function(){function t(t){return 4294967296*(t-(0|t))|0}for(var e=2,n=0;n<64;)!(function(t){for(var e=i.sqrt(t),n=2;n<=e;n++)if(!(t%n))return 0;return 1})(e)||(n<8&&(o[n]=t(i.pow(e,.5))),C[n]=t(i.pow(e,1/3)),n++),e++})();var U=[],a=s.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],u=n[5],h=n[6],c=n[7],f=0;f<64;f++){if(f<16)U[f]=0|t[e+f];else{var l=U[f-15],p=(l<<25|l>>>7)^(l<<14|l>>>18)^l>>>3,g=U[f-2],d=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;U[f]=p+U[f-7]+d+U[f-16]}var y=a&u^~a&h,v=r&i^r&s^i&s,S=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),m=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),A=c+m+y+C[f]+U[f],w=S+v;c=h,h=u,u=a,a=o+A|0,o=s,s=i,i=r,r=A+w|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(64+r>>>9<<4)]=i.floor(n/4294967296),e[15+(64+r>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=r._createHelper(a),t.HmacSHA256=r._createHmacHelper(a)})(Math),u.SHA256)},function(t,e,n){var r;t.exports=(r=n(0),n(4),n(22),r.HmacSHA256)},function(t,e,n){"use strict";function m(t,e){null!=t&&this.fromString(t,e)}function A(){return new m(null)}function u(t){return a.charAt(t)}function S(t){var e=A();return e.fromInt(t),e}function w(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function C(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}e.a=m;var r,i="undefined"!=typeof navigator;r=i&&"Microsoft Internet Explorer"==navigator.appName?(m.prototype.am=function(t,e,n,r,i,s){for(var o=32767&e,a=e>>15;0<=--s;){var u=32767&this[t],h=this[t++]>>15,c=a*u+h*o;i=((u=o*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+a*h+(i>>>30),n[r++]=1073741823&u}return i},30):i&&"Netscape"!=navigator.appName?(m.prototype.am=function(t,e,n,r,i,s){for(;0<=--s;){var o=e*this[t++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},26):(m.prototype.am=function(t,e,n,r,i,s){for(var o=16383&e,a=e>>14;0<=--s;){var u=16383&this[t],h=this[t++]>>14,c=a*u+h*o;i=((u=o*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*h,n[r++]=268435455&u}return i},28),m.prototype.DB=r,m.prototype.DM=(1<<r)-1,m.prototype.DV=1<<r,m.prototype.FV=Math.pow(2,52),m.prototype.F1=52-r,m.prototype.F2=2*r-52;var s,o,a="0123456789abcdefghijklmnopqrstuvwxyz",h=new Array;for(s="0".charCodeAt(0),o=0;o<=9;++o)h[s++]=o;for(s="a".charCodeAt(0),o=10;o<36;++o)h[s++]=o;for(s="A".charCodeAt(0),o=10;o<36;++o)h[s++]=o;C.prototype.convert=function(t){var e=A();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(m.ZERO)&&this.m.subTo(e,e),e},C.prototype.revert=function(t){var e=A();return t.copyTo(e),this.reduce(e),e},C.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},C.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},C.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},m.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},m.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},m.prototype.fromString=function(t,e){var n,r,i;if(16==e)n=4;else if(8==e)n=3;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var s=t.length,o=!1,a=0;0<=--s;){var u=(r=s,void 0,null==(i=h[t.charCodeAt(r)])?-1:i);u<0?"-"==t.charAt(s)&&(o=!0):(o=!1,0==a?this[this.t++]=u:a+n>this.DB?(this[this.t-1]|=(u&(1<<this.DB-a)-1)<<a,this[this.t++]=u>>this.DB-a):this[this.t-1]|=u<<a,(a+=n)>=this.DB&&(a-=this.DB))}this.clamp(),o&&m.ZERO.subTo(this,this)},m.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},m.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;0<=n;--n)e[n+t]=this[n];for(n=t-1;0<=n;--n)e[n]=0;e.t=this.t+t,e.s=this.s},m.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},m.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;0<=n;--n)e[n+o+1]=this[n]>>i|a,a=(this[n]&s)<<r;for(n=o-1;0<=n;--n)e[n]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},m.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,s=(1<<r)-1;e[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&s)<<i,e[o-n]=this[o]>>r;0<r&&(e[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()}},m.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:0<r&&(e[n++]=r),e.t=n,e.clamp()},m.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;0<=--i;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&m.ZERO.subTo(e,e)},m.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;0<=--n;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},m.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=A());var s=A(),o=this.s,a=t.s,u=this.DB-w(r[r.t-1]);0<u?(r.lShiftTo(u,s),i.lShiftTo(u,n)):(r.copyTo(s),i.copyTo(n));var h=s.t,c=s[h-1];if(0!=c){var f=c*(1<<this.F1)+(1<h?s[h-2]>>this.F2:0),l=this.FV/f,p=(1<<this.F1)/f,g=1<<this.F2,d=n.t,y=d-h,v=null==e?A():e;for(s.dlShiftTo(y,v),0<=n.compareTo(v)&&(n[n.t++]=1,n.subTo(v,n)),m.ONE.dlShiftTo(h,v),v.subTo(s,s);s.t<h;)s[s.t++]=0;for(;0<=--y;){var S=n[--d]==c?this.DM:Math.floor(n[d]*l+(n[d-1]+g)*p);if((n[d]+=s.am(0,S,n,y,0,h))<S)for(s.dlShiftTo(y,v),n.subTo(v,n);n[d]<--S;)n.subTo(v,n)}null!=e&&(n.drShiftTo(h,e),o!=a&&m.ZERO.subTo(e,e)),n.t=h,n.clamp(),0<u&&n.rShiftTo(u,n),o<0&&m.ZERO.subTo(n,n)}}},m.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},m.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,0<r?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},m.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString();var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");e=2}var n,r=(1<<e)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(0<o--)for(a<this.DB&&0<(n=this[o]>>a)&&(i=!0,s=u(n));0<=o;)a<e?(n=(this[o]&(1<<a)-1)<<e-a,n|=this[--o]>>(a+=this.DB-e)):(n=this[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),0<n&&(i=!0),i&&(s+=u(n));return i?s:"0"},m.prototype.negate=function(){var t=A();return m.ZERO.subTo(this,t),t},m.prototype.abs=function(){return this.s<0?this.negate():this},m.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;0<=--n;)if(0!=(e=this[n]-t[n]))return e;return 0},m.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)},m.prototype.mod=function(t){var e=A();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(m.ZERO)&&t.subTo(e,e),e},m.prototype.equals=function(t){return 0==this.compareTo(t)},m.prototype.add=function(t){var e=A();return this.addTo(t,e),e},m.prototype.subtract=function(t){var e=A();return this.subTo(t,e),e},m.prototype.multiply=function(t){var e=A();return this.multiplyTo(t,e),e},m.prototype.divide=function(t){var e=A();return this.divRemTo(t,e,null),e},m.prototype.modPow=function(t,e,n){var r,i=t.bitLength(),s=S(1),o=new C(e);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,h=r-1,c=(1<<r)-1;if(a[1]=o.convert(this),1<r){var f=A();for(o.sqrTo(a[1],f);u<=c;)a[u]=A(),o.mulTo(f,a[u-2],a[u]),u+=2}var l,p,g=t.t-1,d=!0,y=A();for(i=w(t[g])-1;0<=g;){for(h<=i?l=t[g]>>i-h&c:(l=(t[g]&(1<<i+1)-1)<<h-i,0<g&&(l|=t[g-1]>>this.DB+i-h)),u=r;0==(1&l);)l>>=1,--u;if((i-=u)<0&&(i+=this.DB,--g),d)a[l].copyTo(s),d=!1;else{for(;1<u;)o.sqrTo(s,y),o.sqrTo(y,s),u-=2;0<u?o.sqrTo(s,y):(p=s,s=y,y=p),o.mulTo(y,a[l],s)}for(;0<=g&&0==(t[g]&1<<i);)o.sqrTo(s,y),p=s,s=y,y=p,--i<0&&(i=this.DB-1,--g)}var v=o.revert(s);return n(null,v),v},m.ZERO=S(0),m.ONE=S(1)},function(t,e,n){"use strict";var r,i=n(8),s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,r=i.a),o);function o(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).AccessToken;return (function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),(function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e})(this,r.call(this,t||""))}e.a=s},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),s.prototype.getJwtToken=function(){return this.jwtToken},s.prototype.getExpiration=function(){return this.payload.exp},s.prototype.getIssuedAt=function(){return this.payload.iat},s.prototype.decodePayload=function(){var t=this.jwtToken.split(".")[1];try{return JSON.parse(r.Buffer.from(t,"base64").toString("utf8"))}catch(t){return{}}},s);function s(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.jwtToken=t||"",this.payload=this.decodePayload()}e.a=i},function(t,e,n){"use strict";var r,i=n(8),s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,r=i.a),o);function o(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).IdToken;return (function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),(function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e})(this,r.call(this,t||""))}e.a=s},function(t,e,n){"use strict";var r=(i.prototype.getToken=function(){return this.token},i);function i(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).RefreshToken;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.token=t||""}e.a=r},function(t,e,n){"use strict";var g=n(1),r=(n.n(g),n(0)),d=n.n(r),i=n(3),s=(n.n(i),n(23)),y=n.n(s),o=n(5),v=n.n(o),a=n(6),u=n(2),f=n(7),l=n(9),p=n(10),S=n(12),h=n(13),c=n(14),m=n(15),A=(w.prototype.setSignInUserSession=function(t){this.clearCachedUserData(),this.signInUserSession=t,this.cacheTokens()},w.prototype.getSignInUserSession=function(){return this.signInUserSession},w.prototype.getUsername=function(){return this.username},w.prototype.getAuthenticationFlowType=function(){return this.authenticationFlowType},w.prototype.setAuthenticationFlowType=function(t){this.authenticationFlowType=t},w.prototype.initiateAuth=function(t,i){var s=this,e=t.getAuthParameters();e.USERNAME=this.username;var n={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:e,ClientMetadata:t.getValidationData()};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",n,(function(t,e){if(t)return i.onFailure(t);var n=e.ChallengeName,r=e.ChallengeParameters;return"CUSTOM_CHALLENGE"===n?(s.Session=e.Session,i.customChallenge(r)):(s.signInUserSession=s.getCognitoUserSession(e.AuthenticationResult),s.cacheTokens(),i.onSuccess(s.signInUserSession))}))},w.prototype.authenticateUser=function(t,e){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(t,e):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(t,e):e.onFailure(new Error("Authentication flow type is invalid."))},w.prototype.authenticateUserDefaultAuth=function(r,c){var f=this,l=new u.a(this.pool.getUserPoolId().split("_")[1]),p=new h.a,i=void 0,s=void 0,o={};null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey),o.USERNAME=this.username,l.getLargeAValue((function(t,e){t&&c.onFailure(t),o.SRP_A=e.toString(16),"CUSTOM_AUTH"===f.authenticationFlowType&&(o.CHALLENGE_NAME="SRP_A");var n={AuthFlow:f.authenticationFlowType,ClientId:f.pool.getClientId(),AuthParameters:o,ClientMetadata:r.getValidationData()};f.getUserContextData(f.username)&&(n.UserContextData=f.getUserContextData(f.username)),f.client.request("InitiateAuth",n,(function(t,u){if(t)return c.onFailure(t);var h=u.ChallengeParameters;f.username=h.USER_ID_FOR_SRP,i=new a.a(h.SRP_B,16),s=new a.a(h.SALT,16),f.getCachedDeviceKeyAndPassword(),l.getPasswordAuthenticationKey(f.username,r.getPassword(),i,s,(function(t,e){t&&c.onFailure(t);var n=p.getNowString(),r=d.a.lib.WordArray.create(g.Buffer.concat([g.Buffer.from(f.pool.getUserPoolId().split("_")[1],"utf8"),g.Buffer.from(f.username,"utf8"),g.Buffer.from(h.SECRET_BLOCK,"base64"),g.Buffer.from(n,"utf8")])),i=d.a.lib.WordArray.create(e),s=y.a.stringify(v()(r,i)),o={};o.USERNAME=f.username,o.PASSWORD_CLAIM_SECRET_BLOCK=h.SECRET_BLOCK,o.TIMESTAMP=n,o.PASSWORD_CLAIM_SIGNATURE=s,null!=f.deviceKey&&(o.DEVICE_KEY=f.deviceKey);var a={ChallengeName:"PASSWORD_VERIFIER",ClientId:f.pool.getClientId(),ChallengeResponses:o,Session:u.Session};f.getUserContextData()&&(a.UserContextData=f.getUserContextData()),(function n(r,i){return f.client.request("RespondToAuthChallenge",r,(function(t,e){return t&&"ResourceNotFoundException"===t.code&&-1!==t.message.toLowerCase().indexOf("device")?(o.DEVICE_KEY=null,f.deviceKey=null,f.randomPassword=null,f.deviceGroupKey=null,f.clearCachedDeviceKeyAndPassword(),n(r,i)):i(t,e)}))})(a,(function(t,e){return t?c.onFailure(t):f.authenticateUserInternal(e,l,c)}))}))}))}))},w.prototype.authenticateUserPlainUsernamePassword=function(t,n){var r=this,e={};if(e.USERNAME=this.username,e.PASSWORD=t.getPassword(),e.PASSWORD){var i=new u.a(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(e.DEVICE_KEY=this.deviceKey);var s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:e,ClientMetadata:t.getValidationData()};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(t,e){return t?n.onFailure(t):r.authenticateUserInternal(e,i,n)}))}else n.onFailure(new Error("PASSWORD parameter is required"))},w.prototype.authenticateUserInternal=function(n,r,i){var s=this,t=n.ChallengeName,e=n.ChallengeParameters;if("SMS_MFA"===t)return this.Session=n.Session,i.mfaRequired(t,e);if("SELECT_MFA_TYPE"===t)return this.Session=n.Session,i.selectMFAType(t,e);if("MFA_SETUP"===t)return this.Session=n.Session,i.mfaSetup(t,e);if("SOFTWARE_TOKEN_MFA"===t)return this.Session=n.Session,i.totpRequired(t,e);if("CUSTOM_CHALLENGE"===t)return this.Session=n.Session,i.customChallenge(e);if("NEW_PASSWORD_REQUIRED"===t){this.Session=n.Session;var o=null,a=null,u=[],h=r.getNewPasswordRequiredChallengeUserAttributePrefix();if(e&&(o=JSON.parse(n.ChallengeParameters.userAttributes),a=JSON.parse(n.ChallengeParameters.requiredAttributes)),a)for(var c=0;c<a.length;c++)u[c]=a[c].substr(h.length);return i.newPasswordRequired(o,u)}if("DEVICE_SRP_AUTH"!==t){this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=t,this.cacheTokens();var f=n.AuthenticationResult.NewDeviceMetadata;if(null==f)return i.onSuccess(this.signInUserSession);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(t){if(t)return i.onFailure(t);var e={Salt:g.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:g.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=e.PasswordVerifier,s.deviceGroupKey=f.DeviceGroupKey,s.randomPassword=r.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:e,DeviceName:navigator.userAgent},(function(t,e){return t?i.onFailure(t):(s.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),!0===e.UserConfirmationNecessary?i.onSuccess(s.signInUserSession,e.UserConfirmationNecessary):i.onSuccess(s.signInUserSession))}))}))}else this.getDeviceResponse(i)},w.prototype.completeNewPasswordChallenge=function(t,e,n){var r=this;if(!t)return n.onFailure(new Error("New password is required."));var i=new u.a(this.pool.getUserPoolId().split("_")[1]),s=i.getNewPasswordRequiredChallengeUserAttributePrefix(),o={};e&&Object.keys(e).forEach((function(t){o[s+t]=e[t]})),o.NEW_PASSWORD=t,o.USERNAME=this.username;var a={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:o,Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(t,e){return t?n.onFailure(t):r.authenticateUserInternal(e,i,n)}))},w.prototype.getDeviceResponse=function(c){var f=this,r=new u.a(this.deviceGroupKey),l=new h.a,i={};i.USERNAME=this.username,i.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(t,e){t&&c.onFailure(t),i.SRP_A=e.toString(16);var n={ChallengeName:"DEVICE_SRP_AUTH",ClientId:f.pool.getClientId(),ChallengeResponses:i};f.getUserContextData()&&(n.UserContextData=f.getUserContextData()),f.client.request("RespondToAuthChallenge",n,(function(t,u){if(t)return c.onFailure(t);var h=u.ChallengeParameters,e=new a.a(h.SRP_B,16),n=new a.a(h.SALT,16);r.getPasswordAuthenticationKey(f.deviceKey,f.randomPassword,e,n,(function(t,e){if(t)return c.onFailure(t);var n=l.getNowString(),r=d.a.lib.WordArray.create(g.Buffer.concat([g.Buffer.from(f.deviceGroupKey,"utf8"),g.Buffer.from(f.deviceKey,"utf8"),g.Buffer.from(h.SECRET_BLOCK,"base64"),g.Buffer.from(n,"utf8")])),i=d.a.lib.WordArray.create(e),s=y.a.stringify(v()(r,i)),o={};o.USERNAME=f.username,o.PASSWORD_CLAIM_SECRET_BLOCK=h.SECRET_BLOCK,o.TIMESTAMP=n,o.PASSWORD_CLAIM_SIGNATURE=s,o.DEVICE_KEY=f.deviceKey;var a={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:f.pool.getClientId(),ChallengeResponses:o,Session:u.Session};f.getUserContextData()&&(a.UserContextData=f.getUserContextData()),f.client.request("RespondToAuthChallenge",a,(function(t,e){return t?c.onFailure(t):(f.signInUserSession=f.getCognitoUserSession(e.AuthenticationResult),f.cacheTokens(),c.onSuccess(f.signInUserSession))}))}))}))}))},w.prototype.confirmRegistration=function(t,e,n){var r={ClientId:this.pool.getClientId(),ConfirmationCode:t,Username:this.username,ForceAliasCreation:e};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",r,(function(t){return t?n(t,null):n(null,"SUCCESS")}))},w.prototype.sendCustomChallengeAnswer=function(t,n){var r=this,e={};e.USERNAME=this.username,e.ANSWER=t;var i=new u.a(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(e.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:e,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(t,e){return t?n.onFailure(t):r.authenticateUserInternal(e,i,n)}))},w.prototype.sendMFACode=function(t,i,e){var s=this,n={};n.USERNAME=this.username,n.SMS_MFA_CODE=t;var r=e||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===r&&(n.SOFTWARE_TOKEN_MFA_CODE=t),null!=this.deviceKey&&(n.DEVICE_KEY=this.deviceKey);var o={ChallengeName:r,ChallengeResponses:n,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(t,n){if(t)return i.onFailure(t);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(s.signInUserSession=s.getCognitoUserSession(n.AuthenticationResult),s.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return i.onSuccess(s.signInUserSession);var r=new u.a(s.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(t){if(t)return i.onFailure(t);var e={Salt:g.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:g.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=e.PasswordVerifier,s.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,s.randomPassword=r.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:e,DeviceName:navigator.userAgent},(function(t,e){return t?i.onFailure(t):(s.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),!0===e.UserConfirmationNecessary?i.onSuccess(s.signInUserSession,e.UserConfirmationNecessary):i.onSuccess(s.signInUserSession))}))}))}else s.getDeviceResponse(i)}))},w.prototype.changePassword=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:t,ProposedPassword:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n(t,null):n(null,"SUCCESS")}))},w.prototype.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},w.prototype.setUserMfaPreference=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:t,SoftwareTokenMfaSettings:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n(t,null):n(null,"SUCCESS")}))},w.prototype.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},w.prototype.deleteUser=function(e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},w.prototype.updateAttributes=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:t},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},w.prototype.getUserAttributes=function(o){if(null==this.signInUserSession||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,e){if(t)return o(t,null);for(var n=[],r=0;r<e.UserAttributes.length;r++){var i={Name:e.UserAttributes[r].Name,Value:e.UserAttributes[r].Value},s=new c.a(i);n.push(s)}return o(null,n)}))},w.prototype.getMFAOptions=function(n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,e){return t?n(t,null):n(null,e.MFAOptions)}))},w.prototype.getUserData=function(r,t){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),r(new Error("User is not authenticated"),null);var e=!!t&&t.bypassCache,n=this.storage.getItem(this.userDataKey);if(!n||e)this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return r(t,null);i.cacheUserData(n);var e=i.signInUserSession.getRefreshToken();if(!e||!e.getToken())return r(null,n);i.refreshSession(e,(function(t,e){return t?r(t,null):r(null,n)}))}));else try{return r(null,JSON.parse(n))}catch(t){return this.clearCachedUserData(),r(t,null)}},w.prototype.deleteAttributes=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},w.prototype.resendConfirmationCode=function(n){var t={ClientId:this.pool.getClientId(),Username:this.username};this.client.request("ResendConfirmationCode",t,(function(t,e){return t?n(t,null):n(null,e)}))},w.prototype.getSession=function(t){if(null==this.username)return t(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return t(null,this.signInUserSession);var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=e+".idToken",r=e+".accessToken",i=e+".refreshToken",s=e+".clockDrift";if(this.storage.getItem(n)){var o=new l.a({IdToken:this.storage.getItem(n)}),a=new f.a({AccessToken:this.storage.getItem(r)}),u=new p.a({RefreshToken:this.storage.getItem(i)}),h={IdToken:o,AccessToken:a,RefreshToken:u,ClockDrift:parseInt(this.storage.getItem(s),0)||0},c=new S.a(h);if(c.isValid())return this.signInUserSession=c,t(null,this.signInUserSession);if(!u.getToken())return t(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(u,t)}else t(new Error("Local storage is missing an ID Token, Please authenticate"),null)},w.prototype.refreshSession=function(r,i){var s=this,t={};t.REFRESH_TOKEN=r.getToken();var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),n=e+".LastAuthUser";if(this.storage.getItem(n)){this.username=this.storage.getItem(n);var o=e+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(o),t.DEVICE_KEY=this.deviceKey}var a={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:t};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",a,(function(t,e){if(t)return"NotAuthorizedException"===t.code&&s.clearCachedUser(),i(t,null);if(e){var n=e.AuthenticationResult;return Object.prototype.hasOwnProperty.call(n,"RefreshToken")||(n.RefreshToken=r.getToken()),s.signInUserSession=s.getCognitoUserSession(n),s.cacheTokens(),i(null,s.signInUserSession)}}))},w.prototype.cacheTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+"."+this.username+".clockDrift",s=t+".LastAuthUser";this.storage.setItem(e,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(s,this.username)},w.prototype.cacheUserData=function(t){this.storage.setItem(this.userDataKey,JSON.stringify(t))},w.prototype.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},w.prototype.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},w.prototype.cacheDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.setItem(e,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},w.prototype.getCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.getItem(e)&&(this.deviceKey=this.storage.getItem(e),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},w.prototype.clearCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r)},w.prototype.clearCachedTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+".LastAuthUser",s=t+"."+this.username+".clockDrift";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(s)},w.prototype.getCognitoUserSession=function(t){var e={IdToken:new l.a(t),AccessToken:new f.a(t),RefreshToken:new p.a(t)};return new S.a(e)},w.prototype.forgotPassword=function(n){var t={ClientId:this.pool.getClientId(),Username:this.username};this.getUserContextData()&&(t.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",t,(function(t,e){return t?n.onFailure(t):"function"==typeof n.inputVerificationCode?n.inputVerificationCode(e):n.onSuccess(e)}))},w.prototype.confirmPassword=function(t,e,n){var r={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:t,Password:e};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",r,(function(t){return t?n.onFailure(t):n.onSuccess()}))},w.prototype.getAttributeVerificationCode=function(t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,e){return t?n.onFailure(t):"function"==typeof n.inputVerificationCode?n.inputVerificationCode(e):n.onSuccess()}))},w.prototype.verifyAttribute=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:t,Code:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n.onFailure(t):n.onSuccess("SUCCESS")}))},w.prototype.getDevice=function(n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,e){return t?n.onFailure(t):n.onSuccess(e)}))},w.prototype.forgetSpecificDevice=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:t},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},w.prototype.forgetDevice=function(e){var n=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(t){return n.deviceKey=null,n.deviceGroupKey=null,n.randomPassword=null,n.clearCachedDeviceKeyAndPassword(),e.onSuccess(t)}})},w.prototype.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},w.prototype.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},w.prototype.listDevices=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("ListDevices",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:t,PaginationToken:e},(function(t,e){return t?n.onFailure(t):n.onSuccess(e)}))},w.prototype.globalSignOut=function(e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e.onFailure(t):(n.clearCachedUser(),e.onSuccess("SUCCESS"))}))},w.prototype.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},w.prototype.sendMFASelectionAnswer=function(n,r){var i=this,t={};t.USERNAME=this.username,t.ANSWER=n;var e={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:t,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(e.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",e,(function(t,e){return t?r.onFailure(t):(i.Session=e.Session,"SMS_MFA"===n?r.mfaRequired(e.challengeName,e.challengeParameters):"SOFTWARE_TOKEN_MFA"===n?r.totpRequired(e.challengeName,e.challengeParameters):void 0)}))},w.prototype.getUserContextData=function(){return this.pool.getUserContextData(this.username)},w.prototype.associateSoftwareToken=function(n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,e){return t?n.onFailure(t):n.associateSecretCode(e.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(t,e){return t?n.onFailure(t):(r.Session=e.Session,n.associateSecretCode(e.SecretCode))}))},w.prototype.verifySoftwareToken=function(t,e,i){var s=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:t,FriendlyDeviceName:e},(function(t,e){return t?i.onFailure(t):i.onSuccess(e)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:t,FriendlyDeviceName:e},(function(t,e){if(t)return i.onFailure(t);s.Session=e.Session;var n={};n.USERNAME=s.username;var r={ChallengeName:"MFA_SETUP",ClientId:s.pool.getClientId(),ChallengeResponses:n,Session:s.Session};s.getUserContextData()&&(r.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",r,(function(t,e){return t?i.onFailure(t):(s.signInUserSession=s.getCognitoUserSession(e.AuthenticationResult),s.cacheTokens(),i.onSuccess(s.signInUserSession))}))}))},w);function w(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),null==t||null==t.Username||null==t.Pool)throw new Error("Username and pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||(new m.a).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}e.a=A},function(t,e,n){"use strict";var r=(s.prototype.getIdToken=function(){return this.idToken},s.prototype.getRefreshToken=function(){return this.refreshToken},s.prototype.getAccessToken=function(){return this.accessToken},s.prototype.getClockDrift=function(){return this.clockDrift},s.prototype.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},s.prototype.isValid=function(){var t=Math.floor(new Date/1e3)-this.clockDrift;return t<this.accessToken.getExpiration()&&t<this.idToken.getExpiration()},s);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.IdToken,n=t.RefreshToken,r=t.AccessToken,i=t.ClockDrift;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),null==r||null==e)throw new Error("Id token and Access Token must be present.");this.idToken=e,this.refreshToken=n,this.accessToken=r,this.clockDrift=void 0===i?this.calculateClockDrift():i}e.a=r},function(t,e,n){"use strict";var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=(i.prototype.getNowString=function(){var t=new Date,e=u[t.getUTCDay()],n=a[t.getUTCMonth()],r=t.getUTCDate(),i=t.getUTCHours();i<10&&(i="0"+i);var s=t.getUTCMinutes();s<10&&(s="0"+s);var o=t.getUTCSeconds();return o<10&&(o="0"+o),e+" "+n+" "+r+" "+i+":"+s+":"+o+" UTC "+t.getUTCFullYear()},i);function i(){!(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i)}e.a=r},function(t,e,n){"use strict";var r=(i.prototype.getValue=function(){return this.Value},i.prototype.setValue=function(t){return this.Value=t,this},i.prototype.getName=function(){return this.Name},i.prototype.setName=function(t){return this.Name=t,this},i.prototype.toString=function(){return JSON.stringify(this)},i.prototype.toJSON=function(){return{Name:this.Name,Value:this.Value}},i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.Name,n=t.Value;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.Name=e||"",this.Value=n||""}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i={},s=(u.setItem=function(t,e){return i[t]=e,i[t]},u.getItem=function(t){return Object.prototype.hasOwnProperty.call(i,t)?i[t]:void 0},u.removeItem=function(t){return delete i[t]},u.clear=function(){return i={}},u),o=(a.prototype.getStorage=function(){return this.storageWindow},a);function a(){r(this,a);try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(t){this.storageWindow=s}}function u(){r(this,u)}e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17);n.d(e,"AuthenticationDetails",(function(){return r.a}));var i=n(2);n.d(e,"AuthenticationHelper",(function(){return i.a}));var s=n(7);n.d(e,"CognitoAccessToken",(function(){return s.a}));var o=n(9);n.d(e,"CognitoIdToken",(function(){return o.a}));var a=n(10);n.d(e,"CognitoRefreshToken",(function(){return a.a}));var u=n(11);n.d(e,"CognitoUser",(function(){return u.a}));var h=n(14);n.d(e,"CognitoUserAttribute",(function(){return h.a}));var c=n(24);n.d(e,"CognitoUserPool",(function(){return c.a}));var f=n(12);n.d(e,"CognitoUserSession",(function(){return f.a}));var l=n(27);n.d(e,"CookieStorage",(function(){return l.a}));var p=n(13);n.d(e,"DateHelper",(function(){return p.a}))},function(t,e,n){"use strict";var r=(o.prototype.getUsername=function(){return this.username},o.prototype.getPassword=function(){return this.password},o.prototype.getValidationData=function(){return this.validationData},o.prototype.getAuthParameters=function(){return this.authParameters},o);function o(t){!(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o);var e=t||{},n=e.ValidationData,r=e.Username,i=e.Password,s=e.AuthParameters;this.validationData=n||{},this.authParameters=s||{},this.username=r,this.password=i}e.a=r},function(Ty,Uy){var Vy;Vy=(function(){return this})();try{Vy=Vy||Function("return this")()||eval("this")}catch(Ty){"object"==typeof window&&(Vy=window)}Ty.exports=Vy},function(t,e,n){"use strict";function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function a(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(u[(o=r)>>18&63]+u[o>>12&63]+u[o>>6&63]+u[63&o]);var o;return i.join("")}e.byteLength=function(t){var e=h(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=h(t),i=r[0],s=r[1],o=new f(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),a=0,u=0<s?i-4:i;for(n=0;n<u;n+=4)e=c[t.charCodeAt(n)]<<18|c[t.charCodeAt(n+1)]<<12|c[t.charCodeAt(n+2)]<<6|c[t.charCodeAt(n+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===s&&(e=c[t.charCodeAt(n)]<<2|c[t.charCodeAt(n+1)]>>4,o[a++]=255&e),1===s&&(e=c[t.charCodeAt(n)]<<10|c[t.charCodeAt(n+1)]<<4|c[t.charCodeAt(n+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],s=0,o=n-r;s<o;s+=16383)i.push(a(t,s,o<s+16383?o:s+16383));return 1==r?(e=t[n-1],i.push(u[e>>2]+u[e<<4&63]+"==")):2==r&&(e=(t[n-2]<<8)+t[n-1],i.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),i.join("")};for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)u[i]=r[i],c[r.charCodeAt(i)]=i;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,h=u>>1,c=-7,f=n?i-1:0,l=n?-1:1,p=t[e+f];for(f+=l,s=p&(1<<-c)-1,p>>=-c,c+=a;0<c;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;0<c;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-h;else{if(s===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=h}return(p?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,u,h=8*s-i-1,c=(1<<h)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,g=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),2<=(e+=1<=o+f?l/u:l*Math.pow(2,1-f))*u&&(o++,u/=2),c<=o+f?(a=0,o=c):1<=o+f?(a=(e*u-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));8<=i;t[n+p]=255&a,p+=g,a/=256,i-=8);for(o=o<<i|a,h+=i;0<h;t[n+p]=255&o,p+=g,o/=256,h-=8);t[n+p-g]|=128*d}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var s;t.exports=(s=n(0),void (function(){var t=s,e=t.lib,n=e.Base,r=t.enc,h=r.Utf8,i=t.algo;i.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=h.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),o=i.words,a=s.words,u=0;u<n;u++)o[u]^=1549556828,a[u]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})})())},function(t,e,n){var r;t.exports=(r=n(0),(function(){var t=r,e=t.lib,u=e.WordArray,n=t.enc;n.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],s=0;s<n;s+=3)for(var o=e[s>>>2]>>>24-s%4*8&255,a=e[s+1>>>2]>>>24-(s+1)%4*8&255,u=e[s+2>>>2]>>>24-(s+2)%4*8&255,h=o<<16|a<<8|u,c=0;c<4&&s+.75*c<n;c++)i.push(r.charAt(h>>>6*(3-c)&63));var f=r.charAt(64);if(f)for(;i.length%4;)i.push(f);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var o=t.indexOf(s);-1!==o&&(e=o)}return (function(t,e,n){for(var r=[],i=0,s=0;s<e;s++)if(s%4){var o=n[t.charCodeAt(s-1)]<<s%4*2,a=n[t.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=(o|a)<<24-i%4*8,i++}return u.create(r,i)})(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),r.enc.Base64)},function(t,e,n){"use strict";var a=n(25),u=n(11),h=n(15),r=(c.prototype.getUserPoolId=function(){return this.userPoolId},c.prototype.getClientId=function(){return this.clientId},c.prototype.signUp=function(i,t,e,n,s){var o=this,r={ClientId:this.clientId,Username:i,Password:t,UserAttributes:e,ValidationData:n};this.getUserContextData(i)&&(r.UserContextData=this.getUserContextData(i)),this.client.request("SignUp",r,(function(t,e){if(t)return s(t,null);var n={Username:i,Pool:o,Storage:o.storage},r={user:new u.a(n),userConfirmed:e.UserConfirmed,userSub:e.UserSub,codeDeliveryDetails:e.CodeDeliveryDetails};return s(null,r)}))},c.prototype.getCurrentUser=function(){var t="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",e=this.storage.getItem(t);if(e){var n={Username:e,Pool:this,Storage:this.storage};return new u.a(n)}return null},c.prototype.getUserContextData=function(t){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var e=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=e.getData(t,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},c);function c(t){!(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,c);var e=t||{},n=e.UserPoolId,r=e.ClientId,i=e.endpoint,s=e.AdvancedSecurityDataCollectionFlag;if(!n||!r)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(n))throw new Error("Invalid UserPoolId format.");var o=n.split("_")[0];this.userPoolId=n,this.clientId=r,this.client=new a.a(o,i),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=t.Storage||(new h.a).getStorage()}e.a=r},function(t,e,n){"use strict";var r=n(26),i=(s.prototype.request=function(t,e,i){var n={headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+t,"X-Amz-User-Agent":this.userAgent},method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(e)},s=void 0;fetch(this.endpoint,n).then((function(t){return s=t}),(function(t){if(t instanceof TypeError)throw new Error("Network error");throw t})).then((function(t){return t.json().catch((function(){return{}}))})).then((function(t){if(s.ok)return i(null,t);var e=(t.__type||t.code).split("#").pop(),n={code:e,name:e,message:t.message||t.Message||null};return i(n)})).catch((function(t){if(!(s&&s.headers&&s.headers.get("x-amzn-errortype"))){if(t instanceof Error&&"Network error"===t.message){var e={code:"NetworkError",name:t.name,message:t.message};return i(e)}return i(t)}try{var n=s.headers.get("x-amzn-errortype").split(":")[0],r={code:n,name:n,statusCode:s.status,message:s.status?s.status.toString():null};return i(r)}catch(e){return i(t)}}))},s);function s(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.endpoint=e||"https://cognito-idp."+t+".amazonaws.com/",this.userAgent=r.a.prototype.userAgent||"aws-amplify/0.1.x js"}e.a=i},function(t,e,n){"use strict";function r(){}(e.a=r).prototype.userAgent="aws-amplify/0.1.x js"},function(t,e,n){"use strict";var r=n(28),i=(n.n(r),s.prototype.setItem=function(t,e){return r.set(t,e,{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure}),r.get(t)},s.prototype.getItem=function(t){return r.get(t)},s.prototype.removeItem=function(t){return r.remove(t,{path:this.path,domain:this.domain,secure:this.secure})},s.prototype.clear=function(){var t=r.get(),e=void 0;for(e=0;e<t.length;++e)r.remove(t[e]);return{}},s);function s(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),!t.domain)throw new Error("The domain of cookieStorage can not be undefined.");this.domain=t.domain,t.path?this.path=t.path:this.path="/",Object.prototype.hasOwnProperty.call(t,"expires")?this.expires=t.expires:this.expires=365,Object.prototype.hasOwnProperty.call(t,"secure")?this.secure=t.secure:this.secure=!0}e.a=i},function(t,e,n){var r,i,s;void 0!==(i="function"==typeof(r=s=function(){function a(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function h(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return (function t(u){function o(){}function n(t,e,n){if("undefined"!=typeof document){"number"==typeof(n=a({path:"/"},o.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(e);/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=u.write?u.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var s in n)n[s]&&(i+="; "+s,!0!==n[s]&&(i+="="+n[s].split(";")[0]));return document.cookie=t+"="+e+i}}function e(t,e){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],i=0;i<r.length;i++){var s=r[i].split("="),o=s.slice(1).join("=");e||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var a=h(s[0]);if(o=(u.read||u)(o,a)||h(o),e)try{o=JSON.parse(o)}catch(t){}if(n[a]=o,t===a)break}catch(t){}}return t?n[t]:n}}return o.set=n,o.get=function(t){return e(t,!1)},o.getJSON=function(t){return e(t,!0)},o.remove=function(t,e){n(t,"",a(e,{expires:-1}))},o.defaults={},o.withConverter=t,o})((function(){}))})?r.call(e,n,e,t):r)&&(t.exports=i),t.exports=s()}],d.c=e,d.d=function(t,e,n){d.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="",d(d.s=16);function d(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return c[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}var c,e}));